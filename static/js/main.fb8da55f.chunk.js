(this.webpackJsonpmoviedecks=this.webpackJsonpmoviedecks||[]).push([[0],{102:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),i=n.n(c),s=(n(87),n(88),n(144)),o=n(140),l=n(145),u=n(132),j=n(28),d=n.n(j),b=n(33),m=n(26),p=n(146),f=n(143),h=n(135),O=n(138),x=n(139),v=n(137),g=n(4),y=Object(u.a)({cardcontent:{backgroundColor:"#818CF8",display:"flex",justifyContent:"space-between"},cardimg:{maxWidth:"100%"},title:{color:"black"}});function N(e){var t,n=y();return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(h.a,{className:n.card,children:Object(g.jsxs)(v.a,{children:[Object(g.jsx)(O.a,{className:n.cardimg,component:"img",height:"350",alt:"not render",image:e.imgUrl?"https://image.tmdb.org/t/p/w1280"+e.imgUrl:"https://images.unsplash.com/photo-1543536448-d209d2d13a1c?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTB8fG1vdmllfGVufDB8fDB8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"}),Object(g.jsxs)(x.a,{className:n.cardcontent,children:[Object(g.jsx)(o.a,{className:n.title,children:e.movieTitle}),Object(g.jsx)(o.a,{id:"rating",className:(t=e.movieRating,t>7?"green":t>5&&t<7?"yellow":"red"),children:e.movieRating})]})]})})})}var S=n(141),C=n(142);function w(){var e=Object(a.useState)(!1),t=Object(m.a)(e,2),n=(t[0],t[1]),r=Object(a.useState)(),c=Object(m.a)(r,2),i=c[0],s=c[1],l=Object(a.useState)([]),j=Object(m.a)(l,2),h=j[0],O=j[1],x=Object(a.useState)(),v=Object(m.a)(x,2),y=v[0],w=v[1],k=Object(a.useState)([]),T=Object(m.a)(k,2),I=T[0],D=T[1],E=function(){var e=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=[],console.log("formhandler"),e.next=5,fetch("https://api.themoviedb.org/3/search/movie?&api_key=04c35731a5ee918f014970082a0088b1&query="+i).then((function(e){return e.json()})).then((function(e){console.log(e.results),O(e.results)}));case 5:h.filter((function(e){e.vote_average<=parseInt(y)&&a.push(e),console.log(a),D(a)})),s(""),w(""),0===h.length?n(!1):n(!0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=Object(u.a)({textfield:{width:"24rem",backgroundClip:"#C4B5FD",margin:"1rem",textTransform:"uppercase"},typo:{margin:"1rem",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}})();return Object(g.jsxs)("div",{style:{marginTop:"5rem"},children:[Object(g.jsx)(o.a,{variant:"h4",className:R.typo,color:"primary",children:"Search movies"}),Object(g.jsxs)("form",{onSubmit:E,children:[Object(g.jsx)(p.a,{required:!0,value:i,color:"primary",className:R.textfield,onChange:function(e){return s(e.target.value.toLowerCase())},label:"Search",placeholder:"Search movies...",variant:"filled"}),Object(g.jsx)(p.a,{required:!0,type:"number",value:y,color:"primary",className:R.textfield,onChange:function(e){return w(e.target.value)},label:"Rating",placeholder:"Type rating..",variant:"filled"}),Object(g.jsx)(S.a,{type:"submit",variant:"outlined",children:"Search"})]}),Object(g.jsx)(C.a,{children:Object(g.jsx)(f.a,{container:!0,spacing:4,children:I.map((function(e){return Object(g.jsx)(f.a,{xs:6,sm:4,lg:3,item:!0,children:Object(g.jsx)(N,{imgUrl:e.poster_path,movieTitle:e.title,movieRating:e.vote_average})},e.id)}))})})]})}var k=n(24),T=n(54),I=(n(98),T.a.initializeApp({apiKey:"AIzaSyCiRnK6knWhXbE88DIYmSnthIX-K62c-k8",authDomain:"moviedeck-fc661.firebaseapp.com",projectId:"moviedeck-fc661",storageBucket:"moviedeck-fc661.appspot.com",messagingSenderId:"224418985330",appId:"1:224418985330:web:8e840efd4828b9bee599eb"})),D=I.auth(),E=r.a.createContext(),R=function(){return Object(a.useContext)(E)},F=function(e){var t=e.children,n=Object(a.useState)(null),r=Object(m.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(!0),o=Object(m.a)(s,2),l=o[0],u=o[1];Object(a.useEffect)((function(){return D.onAuthStateChanged((function(e){i(e),u(!1)}))}),[]);var j={currentUser:c,signUp:function(e,t){D.createUserWithEmailAndPassword(e,t).then((function(t){return T.a.firestore().collection("users").doc(t.user.uid).set({email:e})}))},signIn:function(e,t){return D.signInWithEmailAndPassword(e,t)},signOut:function(){return D.signOut()}};return Object(g.jsx)(E.Provider,{value:j,children:!l&&t})},B=Object(u.a)({btn:{margin:"1rem",backgroundColor:"white","&:hover":{backgroundColor:"#ECFDF5"}},appbar:{backgroundColor:"#8B5CF6"},toolbar:{height:"3rem"},typo:{color:"black"},maindiv:{width:"100%",display:"flex",justifyContent:"flex-end"},links:{color:"black",fontSize:"1.5rem",textDecoration:"none",padding:"1rem"},home:{textDecoration:"none",color:"black"}});function P(){var e=!1,t=R(),n=t.signOut,r=t.currentUser;Object(a.useEffect)((function(){c()}),[]);var c=function(){e=!0},i=B();return Object(g.jsx)(g.Fragment,{children:e?Object(g.jsx)(w,{}):Object(g.jsx)(s.a,{className:i.appbar,position:"fixed",children:Object(g.jsxs)(l.a,{className:i.toolbar,children:[Object(g.jsx)(o.a,{className:i.typo,variant:"h5",color:"secondary",children:Object(g.jsx)(k.b,{to:"/",className:i.home,children:"moviesDeck"})}),Object(g.jsxs)("div",{className:i.maindiv,children:[Object(g.jsx)(k.b,{className:i.links,to:"/Search",children:"Search"}),r?Object(g.jsx)(k.b,{className:i.links,to:"/Favorites",children:"Watchlists"}):Object(g.jsx)(k.b,{className:i.links,to:"/Signup",children:"Sign up"}),r?Object(g.jsx)(k.b,{onClick:function(){window.confirm("Logout user ".concat(r.email,"?"))&&n()},className:i.links,to:"/Logout",children:"Logout"}):Object(g.jsx)(k.b,{className:i.links,to:"/Signin",children:"Sign in"})]})]})})})}var _=n(19);function U(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){c()}),[]);var c=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=04c35731a5ee918f014970082a0088b1&page=1").then((function(e){return e.json()})).then((function(e){n=e.results,r(n)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=Object(u.a)({toolbar:{marginTop:"8rem"}})(),s=function(){console.log("sjdjsdjj")};return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:i.toolbar}),Object(g.jsx)(C.a,{children:Object(g.jsx)(f.a,{container:!0,spacing:4,children:n.map((function(e){return Object(g.jsx)(f.a,{xs:6,onClick:s,sm:4,lg:3,item:!0,children:Object(g.jsx)(N,{imgUrl:e.poster_path,movieTitle:e.title,movieRating:e.vote_average})},e.id)}))})})]})}var A=n(25);n(69),n(100);A.toast.configure();var M=Object(u.a)({textfield:{margin:"1rem",width:"17rem"},cardcontent:{flexDirection:"column",display:"flex",justifyContent:"center",alignItems:"center"},form:{flexDirection:"column",display:"flex",justifyContent:"center",alignItems:"center"}});function q(){var e=M(),t=Object(_.g)(),n=Object(a.useRef)(""),r=Object(a.useRef)(""),c=Object(a.useRef)(""),i=R(),s=i.signUp,l=(i.currentUser,Object(a.useState)()),u=Object(m.a)(l,2),j=(u[0],u[1]),f=function(){var e=Object(b.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),r.current.value===c.current.value){e.next=5;break}return A.toast.error("Password does not match",{position:A.toast.POSITION.BOTTOM_CENTER,autoClose:1500}),c.current.value="",e.abrupt("return");case 5:return e.prev=5,j(""),e.next=9,s(n.current.value,r.current.value);case 9:A.toast.success("Account created successfully!!",{position:A.toast.POSITION.BOTTOM_CENTER,autoClose:1500}),t.push("/"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),A.toast.error("Failed to sign in!!",{position:A.toast.POSITION.BOTTOM_CENTER,autoClose:1500});case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)("div",{className:"container",children:Object(g.jsx)("div",{className:"sub-container",children:Object(g.jsx)(h.a,{className:e.card,variant:"outlined",children:Object(g.jsxs)(x.a,{className:e.cardcontent,children:[Object(g.jsxs)("form",{className:e.form,onSubmit:f,children:[Object(g.jsx)(o.a,{variant:"h4",className:"title",children:"Sign Up"}),Object(g.jsx)(p.a,{required:!0,className:e.textfield,type:"email",inputRef:n,placeholder:"Enter email:",label:"Email",variant:"filled"}),Object(g.jsx)(p.a,{required:!0,inputRef:r,className:e.textfield,type:"password",placeholder:"Enter password:",label:"Password",variant:"filled"}),Object(g.jsx)(p.a,{required:!0,inputRef:c,className:e.textfield,type:"password",placeholder:"Re-enter password:",label:"Confirm password",variant:"filled"}),Object(g.jsx)(S.a,{type:"submit",variant:"contained",color:"primary",children:"Sign up"})]}),Object(g.jsxs)(o.a,{variant:"body1",children:["Already have an account?",Object(g.jsx)(k.b,{style:{textDecoration:"none"},to:"/Signin",children:"Sign in"})]})]})})})})}A.toast.configure();var L=Object(u.a)({textfield:{margin:"1rem",width:"17rem"},cardcontent:{flexDirection:"column",display:"flex",justifyContent:"center",alignItems:"center"},form:{flexDirection:"column",display:"flex",justifyContent:"center",alignItems:"center"}});function W(){var e=L(),t=R(),n=t.signIn,r=(t.currentUser,Object(_.g)()),c=Object(a.useRef)(),i=Object(a.useRef)(),s=function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(c.current.value),t.preventDefault(),e.prev=2,e.next=5,n(c.current.value,i.current.value);case 5:A.toast.success("Signed in successful",{position:A.toast.POSITION.BOTTOM_CENTER,autoClose:1500}),r.push("/"),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),A.toast.error("Invalid email or password",{position:A.toast.POSITION.BOTTOM_CENTER,autoClose:1500}),c.current.value="",i.current.value="";case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)("div",{className:"container",children:Object(g.jsx)("div",{className:"sub-container",children:Object(g.jsx)(h.a,{className:e.card,variant:"outlined",children:Object(g.jsxs)(x.a,{className:e.cardcontent,children:[Object(g.jsxs)("form",{className:e.form,onSubmit:s,children:[Object(g.jsx)(o.a,{variant:"h4",className:"title",children:"Sign In"}),Object(g.jsx)(p.a,{inputRef:c,required:!0,className:e.textfield,type:"email",placeholder:"Enter email:",label:"Email",variant:"filled"}),Object(g.jsx)(p.a,{inputRef:i,required:!0,className:e.textfield,type:"password",placeholder:"Enter password:",label:"Password",variant:"filled"}),Object(g.jsx)(S.a,{variant:"contained",type:"submit",color:"primary",children:"Sign in"})]}),Object(g.jsxs)(o.a,{variant:"body1",children:["Don't have an account?",Object(g.jsx)(k.b,{style:{textDecoration:"none"},to:"/Signup",children:"Sign up"})]})]})})})})}function z(){return Object(g.jsx)("div",{children:"Favourites Component"})}var K=function(){return Object(g.jsx)("div",{style:{display:"flex",flexDirection:"column"},className:"App",children:Object(g.jsx)(F,{children:Object(g.jsxs)(k.a,{children:[Object(g.jsx)(P,{}),Object(g.jsxs)(_.d,{children:[Object(g.jsx)(_.b,{exact:!0,path:"/",children:Object(g.jsx)(U,{})}),Object(g.jsx)(_.b,{exact:!0,path:"/Search",children:Object(g.jsx)(w,{})}),Object(g.jsx)(_.b,{exact:!0,path:"/Signup",children:Object(g.jsx)(q,{})}),Object(g.jsx)(_.b,{exact:!0,path:"/Signin",children:Object(g.jsx)(W,{})}),Object(g.jsx)(_.b,{exact:!0,path:"/Favorites",children:Object(g.jsx)(z,{})}),Object(g.jsx)(_.a,{to:"/"})]})]})})})},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,148)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(K,{})}),document.getElementById("root")),G()},87:function(e,t,n){},88:function(e,t,n){}},[[102,1,2]]]);
//# sourceMappingURL=main.fb8da55f.chunk.js.map
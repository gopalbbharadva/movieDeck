(this.webpackJsonpmoviedecks=this.webpackJsonpmoviedecks||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},115:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(15),i=a.n(r),s=(a(100),a(101),a(164)),o=a(117),l=a(165),d=a(151),u=a(32),j=a.n(u),b=a(39),m=a(24),h=a(167),f=a(163),p=a(154),x=a(157),O=a(158),g=a(156),v=a(4),y=Object(d.a)({cardcontent:{backgroundColor:"#818CF8",display:"flex",flexDirection:"column"},cardimg:{height:"400px",width:"100%",objectFit:"cover"},title:{color:"black",alignSelf:"flex-start"}});function S(e){var t,a=y();return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(p.a,{className:a.card,children:Object(v.jsxs)(g.a,{children:[Object(v.jsx)("div",{className:"imagediv",children:Object(v.jsx)(x.a,{className:a.cardimg,component:"img",height:"350",alt:"not render",image:e.imgUrl?"https://image.tmdb.org/t/p/w1280"+e.imgUrl:"https://images.unsplash.com/photo-1543536448-d209d2d13a1c?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTB8fG1vdmllfGVufDB8fDB8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"})}),Object(v.jsxs)(O.a,{className:a.cardcontent,children:[Object(v.jsx)(o.a,{className:a.title,children:e.movieTitle}),Object(v.jsx)(o.a,{id:"rating",className:(t=e.movieRating,t>7?"green":t>5&&t<7?"yellow":"red"),children:e.movieRating})]})]})})})}var N=a(159),w=a(169),C=a(168),k=a(160),D=a(161),T=a(162),I=a(40),E=(a(111),I.a.initializeApp({apiKey:"AIzaSyCiRnK6knWhXbE88DIYmSnthIX-K62c-k8",authDomain:"moviedeck-fc661.firebaseapp.com",projectId:"moviedeck-fc661",storageBucket:"moviedeck-fc661.appspot.com",messagingSenderId:"224418985330",appId:"1:224418985330:web:8e840efd4828b9bee599eb"})),R=E.auth(),F=c.a.createContext(),B=function(){return Object(n.useContext)(F)},M=function(e){var t=e.children,a=Object(n.useState)(null),c=Object(m.a)(a,2),r=c[0],i=c[1],s=Object(n.useState)(!0),o=Object(m.a)(s,2),l=o[0],d=o[1];Object(n.useEffect)((function(){return R.onAuthStateChanged((function(e){i(e),d(!1)}))}),[]);var u={currentUser:r,signUp:function(e,t){R.createUserWithEmailAndPassword(e,t).then((function(e){return I.a.firestore().collection("users").doc(e.user.uid).set({})})).catch((function(e){console.log(e)}))},signIn:function(e,t){return R.signInWithEmailAndPassword(e,t)},signOut:function(){return R.signOut()}};return Object(v.jsx)(F.Provider,{value:u,children:!l&&t})},_=a(166);function U(e){var t,a=e.currentMovie,n=e.setSelectedMovie,c=B().currentUser;return Object(v.jsx)(_.a.div,{initial:{opacity:0},animate:{opacity:1},onClick:function(e){e.target.classList.contains("main-modal")&&n(null)},className:"main-modal",children:Object(v.jsxs)("div",{className:"sub-modal",children:[Object(v.jsx)(_.a.img,{src:a.backdrop_path?"https://image.tmdb.org/t/p/w1280"+a.backdrop_path:"https://images.unsplash.com/photo-1543536448-d209d2d13a1c?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTB8fG1vdmllfGVufDB8fDB8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",alt:"not render"}),Object(v.jsxs)("div",{className:"modal-overview",children:[c&&Object(v.jsx)("button",{onClick:function(){I.a.firestore().collection("users").doc(c.uid).collection("movies").add({title:a.title,image:a.poster_path,rating:a.vote_average})},children:"Add"}),Object(v.jsx)("h3",{children:"Overview"}),Object(v.jsx)("p",{className:"over-para",children:a.overview}),Object(v.jsx)("h3",{children:"Rating"}),Object(v.jsx)("p",{className:(t=a.vote_average,t>=7?"green":t<7&&t>4?"yellow":"red"),children:a.vote_average})]})]})})}function A(){var e=[],t=Object(n.useState)(!0),a=Object(m.a)(t,2),c=(a[0],a[1],Object(n.useState)()),r=Object(m.a)(c,2),i=r[0],s=r[1],l=Object(n.useState)(0),u=Object(m.a)(l,2),p=u[0],x=u[1],O=Object(n.useState)([]),g=Object(m.a)(O,2),y=g[0],I=g[1],E=Object(n.useState)(null),R=Object(m.a)(E,2),F=R[0],B=R[1],M=function(){var t=Object(b.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return I(""),a.preventDefault(),console.log("formhandler"),t.next=5,fetch("https://api.themoviedb.org/3/search/movie?&api_key=04c35731a5ee918f014970082a0088b1&query="+i).then((function(e){return e.json()})).then((function(t){console.log(p),console.log(t.results),t.results.filter((function(t){t.vote_average<=parseInt(p)&&e.push(t),I(e)}))}));case 5:console.log(p),console.log(y),s(""),x("");case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),_=Object(d.a)({textfield:{width:"24rem",backgroundClip:"#C4B5FD",margin:"1rem",textTransform:"uppercase"},typo:{margin:"1rem",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},submitBtn:{alignSelf:"center"}})();return Object(v.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",margin:"5rem auto"},children:[Object(v.jsx)(o.a,{variant:"h4",className:_.typo,color:"primary",children:"Search movies"}),Object(v.jsxs)("form",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap"},onSubmit:M,children:[Object(v.jsx)(h.a,{required:!0,value:i,color:"primary",className:_.textfield,onChange:function(e){return s(e.target.value.toLowerCase())},label:"Search",placeholder:"Search movies...",variant:"filled"}),Object(v.jsxs)("div",{style:{alignSelf:"center",padding:"1rem"},children:[Object(v.jsx)(N.a,{children:"Rating"}),Object(v.jsx)(w.a,{"aria-label":"gender",name:"gender1",value:p,onChange:function(e){p=e.target.value,x(p)},children:Object(v.jsx)(k.a,{value:"8",control:Object(v.jsx)(C.a,{required:!0}),label:"<5"})})]}),Object(v.jsx)(D.a,{type:"submit",className:_.submitBtn,variant:"outlined",children:"Search"})]}),Object(v.jsx)(T.a,{children:Object(v.jsxs)(f.a,{container:!0,spacing:4,children:[0!=y.length?y.map((function(e){return Object(v.jsx)(f.a,{xs:6,sm:4,lg:3,onClick:function(){B(e)},item:!0,children:Object(v.jsx)(S,{imgUrl:e.poster_path,movieTitle:e.title,movieRating:e.vote_average})},e.id)})):Object(v.jsx)("div",{style:{width:"100%",margin:"3rem",fontSize:"1.5rem",color:"red",display:"flex",justifyContent:"center"},children:"No movies found"}),Object(v.jsx)("div",{children:F&&Object(v.jsx)(U,{currentMovie:F,setSelectedMovie:B})})]})})]})}var P=a(26),W=Object(d.a)({btn:{margin:"1rem",backgroundColor:"white","&:hover":{backgroundColor:"#ECFDF5"}},appbar:{backgroundColor:"#8B5CF6"},toolbar:{height:"3rem"},typo:{color:"black"},maindiv:{width:"100%",display:"flex",justifyContent:"flex-end"},links:{color:"black",fontSize:"1.5rem",textDecoration:"none",padding:"1rem"},home:{textDecoration:"none",color:"black"}});function q(){var e=!1,t=B(),a=t.signOut,c=t.currentUser;Object(n.useEffect)((function(){r()}),[]);var r=function(){e=!0},i=W();return Object(v.jsx)(v.Fragment,{children:e?Object(v.jsx)(A,{}):Object(v.jsx)(s.a,{className:i.appbar,position:"fixed",children:Object(v.jsxs)(l.a,{className:i.toolbar,children:[Object(v.jsx)(o.a,{className:i.typo,variant:"h5",color:"secondary",children:Object(v.jsx)(P.b,{to:"/",className:i.home,children:"moviesDeck"})}),Object(v.jsxs)("div",{className:i.maindiv,children:[Object(v.jsx)(P.b,{className:i.links,to:"/Search",children:"Search"}),c?Object(v.jsx)(P.b,{className:i.links,to:"/Favorites",children:"Watchlists"}):Object(v.jsx)(P.b,{className:i.links,to:"/Signup",children:"Sign up"}),c?Object(v.jsx)(P.b,{onClick:function(){window.confirm("Logout user ".concat(c.email,"?"))&&a()},className:i.links,to:"/Logout",children:"Logout"}):Object(v.jsx)(P.b,{className:i.links,to:"/Signin",children:"Sign in"})]})]})})})}var z=a(19),H=a(44);function L(){var e,t=Object(n.useState)([]),a=Object(m.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(null),s=Object(m.a)(i,2),o=s[0],l=s[1];Object(n.useEffect)((function(){u()}),[]);var u=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=04c35731a5ee918f014970082a0088b1&page=1").then((function(e){return e.json()})).then((function(e){console.log(e.results),c=e.results,r(c)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=Object(d.a)({toolbar:{marginTop:"8rem"},cardcontent:{backgroundColor:"#818CF8",maxHeight:"100vh"},cardimg:{minWidth:"100%",minHeight:"100%",maxWidth:"150%",objectFit:"fill"},div:(e={display:"flex",margin:"80px auto",maxHeight:"60%",maxWidth:"20%"},Object(H.a)(e,"display","block"),Object(H.a)(e,"boxShadow","0 0 2px 1px rgba(0, 0, 0, 0.5)"),e),title:{color:"black"},main:{top:0,left:0,position:"fixed",width:"100%",height:"100%",background:"rgba(139, 150, 143, 0.5)"},overview:{fontSize:"1rem",bottom:0,left:0,right:0},gridContainer:{padding:"1rem 2rem"}})();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:h.toolbar}),Object(v.jsxs)(T.a,{children:[Object(v.jsx)(f.a,{container:!0,className:h.gridContainer,spacing:4,children:c.map((function(e){return Object(v.jsx)(f.a,{classname:h.gridItem,xs:6,onClick:function(){l(e)},sm:4,lg:3,item:!0,children:Object(v.jsx)(S,{imgUrl:e.poster_path,movieTitle:e.title,movieRating:e.vote_average})},e.id)}))}),Object(v.jsx)("div",{children:o&&Object(v.jsx)(U,{currentMovie:o,setSelectedMovie:l})})]})]})}var G=a(28);a(82),a(113);G.toast.configure();var K=Object(d.a)({textfield:{margin:"1rem",width:"17rem"},cardcontent:{flexDirection:"column",display:"flex",justifyContent:"center",alignItems:"center"},form:{flexDirection:"column",display:"flex",justifyContent:"center",alignItems:"center"}});function Y(){var e=K(),t=Object(z.g)(),a=Object(n.useRef)(""),c=Object(n.useRef)(""),r=Object(n.useRef)(""),i=B(),s=i.signUp,l=(i.currentUser,Object(n.useState)()),d=Object(m.a)(l,2),u=(d[0],d[1]),f=function(){var e=Object(b.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),c.current.value===r.current.value){e.next=5;break}return G.toast.error("Password does not match",{position:G.toast.POSITION.BOTTOM_CENTER,autoClose:1500}),r.current.value="",e.abrupt("return");case 5:return e.prev=5,u(""),e.next=9,s(a.current.value,c.current.value);case 9:G.toast.success("Account created successfully!!",{position:G.toast.POSITION.BOTTOM_CENTER,autoClose:1500}),t.push("/"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),G.toast.error("Failed to sign in!!",{position:G.toast.POSITION.BOTTOM_CENTER,autoClose:1500});case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("div",{className:"sub-container",children:Object(v.jsx)(p.a,{className:e.card,variant:"outlined",children:Object(v.jsxs)(O.a,{className:e.cardcontent,children:[Object(v.jsxs)("form",{className:e.form,onSubmit:f,children:[Object(v.jsx)(o.a,{variant:"h4",className:"title",children:"Sign Up"}),Object(v.jsx)(h.a,{required:!0,className:e.textfield,type:"email",inputRef:a,placeholder:"Enter email:",label:"Email",variant:"filled"}),Object(v.jsx)(h.a,{required:!0,inputRef:c,className:e.textfield,type:"password",placeholder:"Enter password:",label:"Password",variant:"filled"}),Object(v.jsx)(h.a,{required:!0,inputRef:r,className:e.textfield,type:"password",placeholder:"Re-enter password:",label:"Confirm password",variant:"filled"}),Object(v.jsx)(D.a,{type:"submit",variant:"contained",color:"primary",children:"Sign up"})]}),Object(v.jsxs)(o.a,{variant:"body1",children:["Already have an account?",Object(v.jsx)(P.b,{style:{textDecoration:"none"},to:"/Signin",children:"Sign in"})]})]})})})})}G.toast.configure();var J=Object(d.a)({textfield:{margin:"1rem",width:"17rem"},cardcontent:{flexDirection:"column",display:"flex",justifyContent:"center",alignItems:"center"},form:{flexDirection:"column",display:"flex",justifyContent:"center",alignItems:"center"}});function V(){var e=J(),t=B(),a=t.signIn,c=(t.currentUser,Object(z.g)()),r=Object(n.useRef)(),i=Object(n.useRef)(),s=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(r.current.value),t.preventDefault(),e.prev=2,e.next=5,a(r.current.value,i.current.value);case 5:G.toast.success("Signed in successful",{position:G.toast.POSITION.BOTTOM_CENTER,autoClose:1500}),c.push("/"),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),G.toast.error("Invalid email or password",{position:G.toast.POSITION.BOTTOM_CENTER,autoClose:1500}),r.current.value="",i.current.value="";case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("div",{className:"sub-container",children:Object(v.jsx)(p.a,{className:e.card,variant:"outlined",children:Object(v.jsxs)(O.a,{className:e.cardcontent,children:[Object(v.jsxs)("form",{className:e.form,onSubmit:s,children:[Object(v.jsx)(o.a,{variant:"h4",className:"title",children:"Sign In"}),Object(v.jsx)(h.a,{inputRef:r,required:!0,className:e.textfield,type:"email",placeholder:"Enter email:",label:"Email",variant:"filled"}),Object(v.jsx)(h.a,{inputRef:i,required:!0,className:e.textfield,type:"password",placeholder:"Enter password:",label:"Password",variant:"filled"}),Object(v.jsx)(D.a,{variant:"contained",type:"submit",color:"primary",children:"Sign in"})]}),Object(v.jsxs)(o.a,{variant:"body1",children:["Don't have an account?",Object(v.jsx)(P.b,{style:{textDecoration:"none"},to:"/Signup",children:"Sign up"})]})]})})})})}var X=a(70),Z=function(e){var t=B().currentUser,a=Object(n.useState)([]),c=Object(m.a)(a,2),r=c[0],i=c[1];return Object(n.useEffect)((function(){I.a.firestore().collection("users").doc(t.uid).collection(e).onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(X.a)(Object(X.a)({},e.data()),{},{id:e.id}))})),i(t)}))}),[e]),{favorites:r}};function Q(){var e,t=Z("movies").favorites,a=Object(d.a)({toolbar:{marginTop:"8rem"},cardcontent:{backgroundColor:"#818CF8",maxHeight:"100vh"},cardimg:{minWidth:"100%",minHeight:"100%",maxWidth:"150%",objectFit:"fill"},div:(e={display:"flex",margin:"80px auto",maxHeight:"60%",maxWidth:"20%"},Object(H.a)(e,"display","block"),Object(H.a)(e,"boxShadow","0 0 2px 1px rgba(0, 0, 0, 0.5)"),e),title:{color:"black"},main:{top:0,left:0,position:"fixed",width:"100%",height:"100%",background:"rgba(139, 150, 143, 0.5)"},overview:{fontSize:"1rem",bottom:0,left:0,right:0},gridContainer:{padding:"1rem 2rem"}})();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:a.toolbar}),Object(v.jsx)(T.a,{children:Object(v.jsx)(f.a,{container:!0,className:a.gridContainer,spacing:4,children:t.map((function(e){return Object(v.jsx)(f.a,{xs:6,sm:4,lg:3,item:!0,children:Object(v.jsx)(S,{imgUrl:e.image,movieTitle:e.title,movieRating:e.rating})},e.id)}))})})]})}var $=function(){return Object(v.jsx)("div",{style:{display:"flex",flexDirection:"column"},className:"App",children:Object(v.jsx)(M,{children:Object(v.jsxs)(P.a,{children:[Object(v.jsx)(q,{}),Object(v.jsxs)(z.d,{children:[Object(v.jsx)(z.b,{exact:!0,path:"/",children:Object(v.jsx)(L,{})}),Object(v.jsx)(z.b,{exact:!0,path:"/Search",children:Object(v.jsx)(A,{})}),Object(v.jsx)(z.b,{exact:!0,path:"/Signup",children:Object(v.jsx)(Y,{})}),Object(v.jsx)(z.b,{exact:!0,path:"/Signin",children:Object(v.jsx)(V,{})}),Object(v.jsx)(z.b,{exact:!0,path:"/Favorites",children:Object(v.jsx)(Q,{})}),Object(v.jsx)(z.a,{to:"/"})]})]})})})},ee=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,171)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))};i.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)($,{})}),document.getElementById("root")),ee()}},[[115,1,2]]]);
//# sourceMappingURL=main.4b2ce450.chunk.js.map